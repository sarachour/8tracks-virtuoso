// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var g,h=this,k=function(a){return void 0!==a},aa=function(a){a=a.split(".");for(var b=h,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},m=function(a){return"string"==typeof a},ca=function(a){return"function"==ba(a)},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=
Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return n.apply(null,arguments)},fa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ga=Date.now||function(){return+new Date},p=function(a,b){var c=a.split("."),
d=h;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&k(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},q=function(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.mc=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return n.apply(null,c)}return n(this,a)};var s=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,s);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(s,Error);s.prototype.name="CustomError";var ha=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ia=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ja=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},ra=function(a){if(!ka.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(la,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ma,"&lt;"));-1!=
a.indexOf(">")&&(a=a.replace(na,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(oa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(pa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(qa,"&#0;"));return a},la=/&/g,ma=/</g,na=/>/g,oa=/"/g,pa=/'/g,qa=/\x00/g,ka=/[\x00&<>"']/,sa=function(a,b){return a<b?-1:a>b?1:0};var ta=function(a,b){b.unshift(a);s.call(this,ha.apply(null,b));b.shift()};q(ta,s);ta.prototype.name="AssertionError";var t=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new ta(""+d,e||[]);}},ua=function(a,b){throw new ta("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var va=Array.prototype,wa=va.indexOf?function(a,b,c){t(null!=a.length);return va.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var xa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},ya=function(a){var b={},c;for(c in a)b[c]=a[c];return b},za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Aa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<za.length;f++)c=za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var u;t:{var Ba=h.navigator;if(Ba){var Ca=Ba.userAgent;if(Ca){u=Ca;break t}}u=""}var w=function(a){return-1!=u.indexOf(a)};var Da=w("Opera")||w("OPR"),x=w("Trident")||w("MSIE"),y=w("Gecko")&&-1==u.toLowerCase().indexOf("webkit")&&!(w("Trident")||w("MSIE")),Ea=-1!=u.toLowerCase().indexOf("webkit"),Fa=function(){var a=h.document;return a?a.documentMode:void 0},Ga=function(){var a="",b;if(Da&&h.opera)return a=h.opera.version,ca(a)?a():a;y?b=/rv\:([^\);]+)(\)|;)/:x?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ea&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(u))?a[1]:"");return x&&(b=Fa(),b>parseFloat(a))?String(b):a}(),Ha={},z=function(a){var b;
if(!(b=Ha[a])){b=0;for(var c=ia(String(Ga)).split("."),d=ia(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",r=d[f]||"",v=/(\d*)(\D*)/g,lb=/(\d*)(\D*)/g;do{var T=v.exec(l)||["","",""],O=lb.exec(r)||["","",""];if(0==T[0].length&&0==O[0].length)break;b=sa(0==T[1].length?0:parseInt(T[1],10),0==O[1].length?0:parseInt(O[1],10))||sa(0==T[2].length,0==O[2].length)||sa(T[2],O[2])}while(0==b)}b=Ha[a]=0<=b}return b},Ia=h.document,Ja=Ia&&x?Fa()||("CSS1Compat"==Ia.compatMode?
parseInt(Ga,10):5):void 0;var La=function(a){var b;b||(b=Ka(a||arguments.callee.caller,[]));return b},Ka=function(a,b){var c=[];if(0<=wa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Ma(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Ma(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,
40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Ka(a.caller,b))}catch(l){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Ma=function(a){if(Na[a])return Na[a];a=String(a);if(!Na[a]){var b=/function ([^\(]+)/.exec(a);Na[a]=b?b[1]:"[Anonymous]"}return Na[a]},Na={};var A=function(a,b,c,d,e){this.reset(a,b,c,d,e)};A.prototype.Ga=null;A.prototype.Fa=null;var Oa=0;A.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Oa++;this.kb=d||ga();this.G=a;this.eb=b;this.jb=c;delete this.Ga;delete this.Fa};A.prototype.Ka=function(){return this.G};A.prototype.Na=function(a){this.G=a};var B=function(a){this.mb=a;this.U=this.La=this.G=this.oa=null},C=function(a,b){this.name=a;this.value=b};C.prototype.toString=function(){return this.name};
var Pa=new C("SHOUT",1200),Qa=new C("SEVERE",1E3),Ra=new C("WARNING",900),Sa=new C("INFO",800),Ta=new C("CONFIG",700),Ua=new C("FINE",500),Va=new C("FINER",400),Wa=[new C("OFF",Infinity),Pa,Qa,Ra,Sa,Ta,Ua,Va,new C("FINEST",300),new C("ALL",0)],D=null,Xa=function(a){if(!D){D={};for(var b=0,c;c=Wa[b];b++)D[c.value]=c,D[c.name]=c}if(a in D)return D[a];for(b=0;b<Wa.length;++b)if(c=Wa[b],c.value<=a)return c;return null};B.prototype.getName=function(){return this.mb};B.prototype.getParent=function(){return this.oa};
B.prototype.Na=function(a){this.G=a};B.prototype.Ka=function(){return this.G};var Ya=function(a){if(a.G)return a.G;if(a.oa)return Ya(a.oa);ua("Root logger has no level set.");return null};
B.prototype.log=function(a,b,c){if(a.value>=Ya(this).value)for(ca(b)&&(b=b()),a=this.pb(a,b,c,B.prototype.log),b="log:"+a.eb,h.console&&(h.console.timeStamp?h.console.timeStamp(b):h.console.markTimeline&&h.console.markTimeline(b)),h.msWriteProfilerMark&&h.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.U)for(var e=0,f=void 0;f=c.U[e];e++)f(d);b=b.getParent()}};
B.prototype.pb=function(a,b,c,d){a=new A(a,String(b),this.mb);if(c){a.Ga=c;var e;d=d||B.prototype.pb;try{var f;var l=aa("window.location.href");if(m(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"};else{var r,v;b=!1;try{r=c.lineNumber||c.lc||"Not available"}catch(lb){r="Not available",b=!0}try{v=c.fileName||c.filename||c.sourceURL||h.$googDebugFname||l}catch(T){v="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:r,fileName:v,stack:c.stack||"Not available"}}e="Message: "+ra(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+ra(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(La(d)+"-> ")}catch(O){e="Exception trying to expose exception! You win, we lose. "+O}a.Fa=e}return a};B.prototype.info=function(a,b){this.log(Sa,a,b)};
var Za={},$a=null,ab=function(){$a||($a=new B(""),Za[""]=$a,$a.Na(Ta))},E=function(a){ab();var b;if(!(b=Za[a])){b=new B(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=E(a.substr(0,c));c.La||(c.La={});c.La[d]=b;b.oa=c;Za[a]=b}return b};var F=function(){this.na=this.na;this.I=this.I};F.prototype.na=!1;F.prototype.v=function(){this.na||(this.na=!0,this.d())};var cb=function(a,b){var c=fa(bb,b);a.I||(a.I=[]);a.I.push(k(void 0)?n(c,void 0):c)};F.prototype.d=function(){if(this.I)for(;this.I.length;)this.I.shift()()};var bb=function(a){a&&"function"==typeof a.v&&a.v()};var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.H=!1;this.lb=!0};G.prototype.d=function(){};G.prototype.v=function(){};G.prototype.stopPropagation=function(){this.H=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.lb=!1};var H=function(a,b){a&&a.log(Va,b,void 0)},I=function(a,b){a&&a.log(Qa,b,void 0)},db=function(a,b){a&&a.log(Ra,b,void 0)},J=function(a,b){a&&a.info(b,void 0)},eb=function(a,b){a&&a.log(Ua,b,void 0)};p("cast.receiver.VERSION","2.0.0");var K=E("cast");p("cast.receiver.logger",K);p("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1E3,NONE:1500});K.rb=function(a){K&&K.Na(Xa(a))};K.setLevelValue=K.rb;K&&K.rb(1E3);var fb=function(){this.qb=ga()},gb=new fb;fb.prototype.set=function(a){this.qb=a};fb.prototype.reset=function(){this.set(ga())};fb.prototype.get=function(){return this.qb};var hb=function(a){this.Pb=a||"";this.Qb=gb};g=hb.prototype;g.fb=!0;g.hb=!0;g.Ub=!0;g.Tb=!0;g.ib=!1;g.Vb=!1;var L=function(a){return 10>a?"0"+a:String(a)},ib=function(a,b){var c=(a.kb-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},jb=function(a){hb.call(this,a)};q(jb,hb);var kb=function(){this.sb=n(this.Yb,this);this.la=new jb;this.la.hb=!1;this.la.ib=!1;this.Ta=this.la.fb=!1;this.gb="";this.Ob={}};
kb.prototype.Yb=function(a){if(!this.Ob[a.jb]){var b;b=this.la;var c=[];c.push(b.Pb," ");if(b.hb){var d=new Date(a.kb);c.push("[",L(d.getFullYear()-2E3)+L(d.getMonth()+1)+L(d.getDate())+" "+L(d.getHours())+":"+L(d.getMinutes())+":"+L(d.getSeconds())+"."+L(Math.floor(d.getMilliseconds()/10)),"] ")}b.Ub&&c.push("[",ib(a,b.Qb.get()),"s] ");b.Tb&&c.push("[",a.jb,"] ");b.Vb&&c.push("[",a.Ka().name,"] ");c.push(a.eb);b.ib&&a.Ga&&c.push("\n",a.Fa);b.fb&&c.push("\n");b=c.join("");if(c=mb)switch(a.Ka()){case Pa:nb(c,
"info",b);break;case Qa:nb(c,"error",b);break;case Ra:nb(c,"warn",b);break;default:nb(c,"debug",b)}else this.gb+=b}};var mb=h.console,nb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var ob=function(a){ob[" "](a);return a};ob[" "]=function(){};var pb=!x||x&&9<=Ja,qb=x&&!z("9");!Ea||z("528");y&&z("1.9b")||x&&z("8")||Da&&z("9.5")||Ea&&z("528");y&&!z("8")||x&&z("9");var M=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.ba=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(y){var e;t:{try{ob(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Ea||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Ea||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.state=a.state;this.ba=a;a.defaultPrevented&&this.preventDefault()}};q(M,G);M.prototype.stopPropagation=function(){M.o.stopPropagation.call(this);this.ba.stopPropagation?this.ba.stopPropagation():this.ba.cancelBubble=!0};M.prototype.preventDefault=function(){M.o.preventDefault.call(this);var a=this.ba;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};M.prototype.d=function(){};var rb="closure_listenable_"+(1E6*Math.random()|0),sb=0;var tb=function(a,b,c,d,e){this.F=a;this.ma=null;this.src=b;this.type=c;this.ia=!!d;this.ka=e;this.key=++sb;this.O=this.ja=!1},ub=function(a){a.O=!0;a.F=null;a.ma=null;a.src=null;a.ka=null};var N=function(a){this.src=a;this.h={};this.aa=0};N.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f];a||(a=this.h[f]=[],this.aa++);var l=vb(a,b,d,e);-1<l?(b=a[l],c||(b.ja=!1)):(b=new tb(b,this.src,f,!!d,e),b.ja=c,a.push(b));return b};N.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.h))return!1;var e=this.h[a];b=vb(e,b,c,d);return-1<b?(ub(e[b]),t(null!=e.length),va.splice.call(e,b,1),0==e.length&&(delete this.h[a],this.aa--),!0):!1};
var wb=function(a,b){var c=b.type;if(c in a.h){var d=a.h[c],e=wa(d,b),f;if(f=0<=e)t(null!=d.length),va.splice.call(d,e,1);f&&(ub(b),0==a.h[c].length&&(delete a.h[c],a.aa--))}};N.prototype.Ma=function(a,b,c,d){a=this.h[a.toString()];var e=-1;a&&(e=vb(a,b,c,d));return-1<e?a[e]:null};var vb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.O&&f.F==b&&f.ia==!!c&&f.ka==d)return e}return-1};var xb="closure_lm_"+(1E6*Math.random()|0),yb={},zb=0,P=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)P(a,b[f],c,d,e);else if(c=Ab(c),a&&a[rb])f=c,Bb(a),a.n.add(String(b),f,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=Cb(a);l||(a[xb]=l=new N(a));d=l.add(b,c,!1,d,e);d.ma||(e=Db(),d.ma=e,e.src=a,e.F=d,a.addEventListener?a.addEventListener(b.toString(),e,f):a.attachEvent(Eb(b.toString()),e),zb++)}},Db=function(){var a=Fb,b=pb?function(c){return a.call(b.src,b.F,
c)}:function(c){c=a.call(b.src,b.F,c);if(!c)return c};return b},Gb=function(a,b,c,d,e){if("array"==ba(b))for(var f=0;f<b.length;f++)Gb(a,b[f],c,d,e);else c=Ab(c),a&&a[rb]?a.n.remove(String(b),c,d,e):a&&(a=Cb(a))&&(b=a.Ma(b,c,!!d,e))&&Hb(b)},Hb=function(a){if("number"!=typeof a&&a&&!a.O){var b=a.src;if(b&&b[rb])wb(b.n,a);else{var c=a.type,d=a.ma;b.removeEventListener?b.removeEventListener(c,d,a.ia):b.detachEvent&&b.detachEvent(Eb(c),d);zb--;(c=Cb(b))?(wb(c,a),0==c.aa&&(c.src=null,b[xb]=null)):ub(a)}}},
Eb=function(a){return a in yb?yb[a]:yb[a]="on"+a},Jb=function(a,b,c,d){var e=1;if(a=Cb(a))if(b=a.h[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ia==c&&!f.O&&(e&=!1!==Ib(f,d))}return Boolean(e)},Ib=function(a,b){var c=a.F,d=a.ka||a.src;a.ja&&Hb(a);return c.call(d,b)},Fb=function(a,b){if(a.O)return!0;if(!pb){var c=b||aa("window.event"),d=new M(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(l){f=!0}if(f||void 0==
c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,r=c.length-1;!d.H&&0<=r;r--)d.currentTarget=c[r],e&=Jb(c[r],f,!0,d);for(r=0;!d.H&&r<c.length;r++)d.currentTarget=c[r],e&=Jb(c[r],f,!1,d)}return e}return Ib(a,new M(b,this))},Cb=function(a){a=a[xb];return a instanceof N?a:null},Kb="__closure_events_fn_"+(1E9*Math.random()>>>0),Ab=function(a){t(a,"Listener can not be null.");if(ca(a))return a;t(a.handleEvent,"An object listener must have handleEvent method.");
a[Kb]||(a[Kb]=function(b){return a.handleEvent(b)});return a[Kb]};var Q=function(){F.call(this);this.n=new N(this);this.Zb=this;this.Ja=null};q(Q,F);Q.prototype[rb]=!0;Q.prototype.addEventListener=function(a,b,c,d){P(this,a,b,c,d)};Q.prototype.removeEventListener=function(a,b,c,d){Gb(this,a,b,c,d)};
Q.prototype.dispatchEvent=function(a){Bb(this);var b,c=this.Ja;if(c){b=[];for(var d=1;c;c=c.Ja)b.push(c),t(1E3>++d,"infinite loop")}c=this.Zb;d=a.type||a;if(m(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);Aa(a,e)}var e=!0,f;if(b)for(var l=b.length-1;!a.H&&0<=l;l--)f=a.currentTarget=b[l],e=Lb(f,d,!0,a)&&e;a.H||(f=a.currentTarget=c,e=Lb(f,d,!0,a)&&e,a.H||(e=Lb(f,d,!1,a)&&e));if(b)for(l=0;!a.H&&l<b.length;l++)f=a.currentTarget=b[l],e=Lb(f,d,!1,a)&&e;return e};
Q.prototype.d=function(){Q.o.d.call(this);if(this.n){var a=this.n,b=0,c;for(c in a.h){for(var d=a.h[c],e=0;e<d.length;e++)++b,ub(d[e]);delete a.h[c];a.aa--}}this.Ja=null};var Lb=function(a,b,c,d){b=a.n.h[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.O&&l.ia==c){var r=l.F,v=l.ka||l.src;l.ja&&wb(a.n,l);e=!1!==r.call(v,d)&&e}}return e&&0!=d.lb};Q.prototype.Ma=function(a,b,c,d){return this.n.Ma(String(a),b,c,d)};var Bb=function(a){t(a.n,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Mb=function(a,b,c){if(ca(a))c&&(a=n(a,c));else if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:h.setTimeout(a,b||0)};var R=function(a,b){Q.call(this);this.Lb=k(a)?a:!0;this.ya=b||Nb;this.ha=this.ya(this.Z)};q(R,Q);g=R.prototype;g.j=null;g.s=null;g.M=void 0;g.za=!1;g.Z=0;g.B=null;var Ob=R.prototype,Pb=E("goog.net.WebSocket");Ob.a=Pb;var Nb=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};g=R.prototype;
g.open=function(a,b){t(h.WebSocket,"This browser does not support WebSocket");t(!this.Y(),"The WebSocket is already open");null!=this.B&&h.clearTimeout(this.B);this.B=null;this.s=a;(this.M=b)?(J(this.a,"Opening the WebSocket on "+this.s+" with protocol "+this.M),this.j=new WebSocket(this.s,this.M)):(J(this.a,"Opening the WebSocket on "+this.s),this.j=new WebSocket(this.s));this.j.onopen=n(this.Nb,this);this.j.onclose=n(this.Mb,this);this.j.onmessage=n(this.P,this);this.j.onerror=n(this.ua,this)};
g.close=function(){null!=this.B&&h.clearTimeout(this.B);this.B=null;this.j&&(J(this.a,"Closing the WebSocket."),this.za=!0,this.j.close(),this.j=null)};g.send=function(a){t(this.Y(),"Cannot send without an open socket");this.j.send(a)};g.Y=function(){return!!this.j&&1==this.j.readyState};g.Nb=function(){J(this.a,"WebSocket opened on "+this.s);this.dispatchEvent("d");this.Z=0;this.ha=this.ya(this.Z)};
g.Mb=function(a){J(this.a,"The WebSocket on "+this.s+" closed.");this.dispatchEvent("a");this.j=null;this.za?(J(this.a,"The WebSocket closed normally."),this.s=null,this.M=void 0):(I(this.a,"The WebSocket disconnected unexpectedly: "+a.data),this.Lb&&(J(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.ha/1E3)),this.B=Mb(n(this.open,this,this.s,this.M),this.ha,this),this.Z++,this.ha=this.ya(this.Z)));this.za=!1};g.P=function(a){this.dispatchEvent(new Qb(a.data))};
g.ua=function(a){a=a.data;I(this.a,"An error occurred: "+a);this.dispatchEvent(new Rb(a))};g.d=function(){R.o.d.call(this);this.close()};var Qb=function(a){G.call(this,"c");this.message=a};q(Qb,G);var Rb=function(a){G.call(this,"b");this.data=a};q(Rb,G);var S=function(a,b){Q.call(this);this.C=b;this.Aa=!0;this.N=a;this.onClose=this.onMessage=null;var c=this.N,d=this.C,e=this.Ha;Bb(c);c.n.add(String(d),e,!1,!1,this)};q(S,Q);p("cast.receiver.CastChannel",S);S.EventType={MESSAGE:"message",CLOSE:"close"};var Sb=function(a,b){G.call(this,a);this.message=b};q(Sb,G);S.Event=Sb;S.prototype.a=E("cast.receiver.CastChannel");S.prototype.q=function(){return"CastChannel["+this.C+" "+this.N.D()+"]"};S.prototype.D=function(){return this.N.D()};
S.prototype.getNamespace=S.prototype.D;S.prototype.dc=function(){return this.C};S.prototype.getSenderId=S.prototype.dc;S.prototype.Ha=function(a){H(this.a,"Dispatching CastChannel message ["+this.N.D()+", "+this.C+"]: "+a.data);a=new Sb("message",a.data);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};
S.prototype.close=function(){if(this.Aa){this.Aa=!1;J(this.a,"Closing CastChannel ["+this.N.D()+", "+this.C+"]");var a=new Sb("close",this.C);if(this.onClose)this.onClose(a);this.dispatchEvent(a);this.v()}};S.prototype.send=function(a){if(!this.Aa)throw Error("Invalid state, socket not open");this.N.send(this.C,a)};S.prototype.send=S.prototype.send;S.prototype.d=function(){S.o.d.call(this);H(this.a,"Disposed "+this.q())};p("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");p("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});p("cast.receiver.system.SystemVolumeData",function(){this.level=1;this.muted=!1});p("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});p("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"});var Tb=function(){Q.call(this);this.k=null;var a=new R(!0);this.k&&this.k.v();this.k=a;cb(this,this.k);P(this.k,"d",this.Xb,!1,this);P(this.k,"a",this.Wb,!1,this);P(this.k,"b",this.ua,!1,this);P(this.k,"c",this.P,!1,this)};q(Tb,Q);var Ub=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};q(Ub,G);Tb.prototype.a=E("cast.receiver.IpcChannel");var Vb=function(a,b){eb(a.a,"IpcChannel "+b);a.dispatchEvent(new Ub("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};g=Tb.prototype;
g.Xb=function(){Vb(this,"opened")};g.Wb=function(){Vb(this,"closed")};g.ua=function(){Vb(this,"error")};g.P=function(a){eb(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Ub(b,a.senderId,a.data)):I(this.a,"IpcChannel Message received is invalid")};g.open=function(){J(this.a,"Opening message bus websocket");this.k.open("ws://localhost:8008/v2/ipc")};g.close=function(){J(this.a,"Closing message bus websocket");this.k.close()};
g.Y=function(){return this.k.Y()};g.send=function(a,b,c){if(!this.Y)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c});eb(this.a,"IPC message sent: "+a);this.k.send(a)};g.d=function(){Tb.o.d.call(this);H(this.a,"Disposed IpcChannel")};var U=function(a,b,c,d){Q.call(this);this.u=a;this.A=b;this.$=d||"STRING";this.onMessage=null;this.serializeMessage=this.Sb;this.deserializeMessage=this.Rb;this.g={};for(a=0;a<c.length;a++)this.g[c[a]]=null;c=this.A;a=this.u;b=this.Ha;Bb(c);c.n.add(String(a),b,!1,!1,this)};q(U,Q);p("cast.receiver.CastMessageBus",U);U.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};U.EventType={MESSAGE:"message"};var Wb=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};q(Wb,G);U.Event=Wb;
U.prototype.a=E("cast.receiver.CastMessageBus");U.prototype.q=function(){return"CastMessageBus["+this.u+"]"};U.prototype.D=function(){return this.u};U.prototype.getNamespace=U.prototype.D;U.prototype.nb=function(){return this.$};U.prototype.getMessageType=U.prototype.nb;
U.prototype.Ha=function(a){H(this.a,"Dispatching CastMessageBus message");var b="STRING"==this.$?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Wb(a.senderId,a.senderId,b));a=new Wb("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};U.prototype.send=function(a,b){if("STRING"==this.$){if(!m(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.A.send(this.u,a,b)}else this.A.send(this.u,a,this.serializeMessage(b))};U.prototype.send=U.prototype.send;
U.prototype.bb=function(a){this.send("*:*",a)};U.prototype.broadcast=U.prototype.bb;U.prototype.ac=function(a){if(a in this.g)return this.g[a]||(this.g[a]=new S(this,a)),this.g[a];throw Error("Requested a socket for a disconnected sender: "+a);};U.prototype.getCastChannel=U.prototype.ac;U.prototype.Sb=function(a){if("JSON"!=this.$)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)};
U.prototype.Rb=function(a){if("JSON"!=this.$)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};U.prototype.d=function(){U.o.d.call(this);for(var a in this.g)this.g[a]&&this.g[a].close();this.g={};H(this.a,"Disposed "+this.q())};var V=function(){Q.call(this);if(this.Va=new kb){var a=this.Va;if(1!=a.Ta){ab();var b=$a,c=a.sb;b.U||(b.U=[]);b.U.push(c);a.Ta=!0}}this.i=ya(Xb);this.S=!1;this.A=new Tb;this.p={};this.T=new U("urn:x-cast:com.google.cast.system",this.A,xa(this.p),"JSON");cb(this,this.T);this.Ua=this.K=!1;this.Sa=this.pa=null;this.l={};this.onStandbyChanged=this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onShutdown=this.onReady=null;P(this.T,"SystemSender",this.vb,
!1,this);P(window,"unload",this.Ra,!1,this);J(this.a,"Version: 2.0.0.0012")};q(V,Q);p("cast.receiver.CastReceiverManager",V);V.$a=function(){return V.Ba?V.Ba:V.Ba=new V};V.getInstance=V.$a;V.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged"};var W=function(a,b){G.call(this,a);this.data=b};q(W,G);
V.Event=W;p("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});var Yb=function(a,b,c){W.call(this,"senderdisconnected",a);this.senderId=a;this.userAgent=b;this.reason=c};q(Yb,W);V.SenderDisconnectedEvent=Yb;var Zb=function(a,b){W.call(this,"senderconnected",a);this.senderId=a;this.userAgent=b};q(Zb,W);V.SenderConnectedEvent=Zb;var $b=function(a){W.call(this,"visibilitychanged",a);this.isVisible=a};q($b,W);V.VisibilityChangedEvent=$b;
var ac=function(a){W.call(this,"standbychanged",null);this.isStandby=a};q(ac,W);V.StandbyChangedEvent=ac;var bc=function(a){W.call(this,"systemvolumechanged",a);this.data=a};q(bc,W);V.SystemVolumeChangedEvent=bc;var cc=function(a){W.call(this,"ready",a);this.data=a};q(cc,W);V.ReadyEvent=cc;var dc=function(){W.call(this,"shutdown",null)};q(dc,W);V.ShutdownEvent=dc;V.Config=function(){this.dialData=this.maxInactivity=this.statusText=void 0};var Xb={maxInactivity:10};V.prototype.a=E("cast.receiver.CastReceiverManager");
V.prototype.q=function(){return"CastReceiverManager"};V.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");Aa(this.i,a||{})}this.Ua=!0;this.A.open()};V.prototype.start=V.prototype.start;V.prototype.stop=function(){this.v();window.close()};V.prototype.stop=V.prototype.stop;V.prototype.gc=function(){return this.K};
V.prototype.isSystemReady=V.prototype.gc;V.prototype.ec=function(){return xa(this.p)};V.prototype.getSenders=V.prototype.ec;V.prototype.cc=function(a){return this.p[a]?ya(this.p[a]):null};V.prototype.getSender=V.prototype.cc;V.prototype.fc=function(){return null==this.pa?this.Sa?"notvisible":"unknown":this.pa?"visible":"notvisible"};V.prototype.getVisibilityState=V.prototype.fc;V.prototype.$b=function(){return this.Xa};V.prototype.getApplicationData=V.prototype.$b;
V.prototype.hc=function(a){this.K?ec(this,a):this.i.statusText!=a&&(this.i.statusText=a,this.S=!0)};V.prototype.setApplicationState=V.prototype.hc;V.prototype.jc=function(a,b){this.K?ec(this,a,b):(void 0!=a&&a!=this.i.statusText&&(this.i.statusText=a,this.S=!0),void 0!=b&&b!=this.i.dialData&&(this.i.dialData=b,this.S=!0))};V.prototype.setLegacyApplicationState=V.prototype.jc;
var ec=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b);void 0!=c&&(d.dialData=c);a.T.send("SystemSender",d)};V.prototype.Ya=function(a){this.T.send("SystemSender",{type:"startheartbeat",maxInactivity:a})};V.prototype.setInactivityTimeout=V.prototype.Ya;
V.prototype.Za=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.l[a]){if(this.Ua)throw Error("New namespaces can not be requested after start has been called");this.l[a]=new U(a,this.A,xa(this.p),b);cb(this,this.l[a])}if(b&&this.l[a].nb()!=b)throw Error("Invalid messageType for the namespace");return this.l[a]};V.prototype.getCastMessageBus=V.prototype.Za;
V.prototype.vb=function(a){a=a.data;switch(a.type){case "opened":J(this.a,"Underlying message bus is open");var b=xa(this.l),c=this.i.statusText;a=this.i.dialData;var d={type:"ready"};c&&(d.statusText=c);a&&(d.dialData=a);d.activeNamespaces=b;d.version="2.0.0";d.messagesVersion="1.0";this.T.send("SystemSender",d);this.i.maxInactivity&&this.Ya(this.i.maxInactivity);break;case "closed":this.K=!1;this.dispatchEvent("shutdown");break;case "error":this.dispatchEvent("error");break;case "ready":this.Xa=
{id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:xa(this.l),launchingSenderId:a.launchingSenderId};this.K=!0;this.S&&(this.S=!1,ec(this,this.i.statusText,this.i.dialData));J(this.a,"Dispatching CastReceiverManager system ready event");b=new cc(this.Xa);if(this.onReady)this.onReady(b);this.dispatchEvent(b);break;case "senderconnected":b={id:a.senderId,userAgent:a.userAgent};J(this.a,"Dispatching CastReceiverManager sender connected event ["+b.id+"]");b.id in this.p&&I(this.a,
"Unexpected connected message for already connected sender: "+b.id);this.p[b.id]=b;a=new Zb(b.id,b.userAgent);for(c in this.l){var d=this.l[c],e=b.id;e in d.g?I(d.a,"Unexpected sender already registered ["+d.u+", "+e+"]"):(J(d.a,"Registering sender ["+d.u+", "+e+"]"),d.g[e]=null)}if(this.onSenderConnected)this.onSenderConnected(a);this.dispatchEvent(a);break;case "senderdisconnected":c=a.senderId;switch(a.reason){case "closed_by_peer":a="requested_by_sender";break;case "transport_invalid_message":a=
"error";break;default:a="unknown"}J(this.a,"Dispatching sender disconnected event ["+c+"] Reason: "+a);if(c in this.p){d=this.p[c].userAgent;delete this.p[c];a=new Yb(c,d,a);for(b in this.l)d=this.l[b],e=c,e in d.g&&(J(d.a,"Unregistering sender ["+d.u+", "+e+"]"),d.g[e]&&d.g[e].close(),delete d.g[e]);if(this.onSenderDisconnected)this.onSenderDisconnected(a);this.dispatchEvent(a)}else I(this.a,"Unknown sender disconnected: "+c);break;case "volumechanged":b={level:a.level,muted:a.muted};J(this.a,"Dispatching system volume changed event ["+
b.level+", "+b.muted+"]");b=new bc(b);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(b);this.dispatchEvent(b);break;case "visibilitychanged":b=a.visible;J(this.a,"Dispatching visibility changed event "+b);this.pa=b;b=new $b(b);if(this.onVisibilityChanged)this.onVisibilityChanged(b);this.dispatchEvent(b);break;case "standbychanged":b=a.standby;J(this.a,"Dispatching standby changed event "+b);this.Sa=b;b=new ac(b);if(this.onStandbyChanged)this.onStandbyChanged(b);this.dispatchEvent(b);break;
default:throw Error("Unexpected message type: "+a.type);}};V.prototype.Ra=function(){J(this.a,"Dispatching shutdown event");this.K=!1;var a=new dc;if(this.onShutdown)this.onShutdown(a);this.dispatchEvent(a)};V.prototype.d=function(){V.o.d.call(this);window&&Gb(window,"unload",this.Ra,!1,this);delete V.Ba;eb(this.a,"Disposed "+this.q())};var fc=function(a,b){this.a=a;this.b=b;this.wa=function(){};this.va=function(){};this.xa=function(){};this.W=0;this.r=null;this.X=!0;P(this.b,"error",this.ra,!1,this);P(this.b,"ended",this.qa,!1,this);P(this.b,"loadedmetadata",this.sa,!1,this);J(this.a,"Using default Player")};g=fc.prototype;g.Wa=function(a,b){this.X=a;this.W=b};g.ra=function(a){this.wa(a)};g.qa=function(){this.va()};g.sa=function(){this.xa()};g.registerErrorCallback=function(a){this.wa=a};
g.registerEndedCallback=function(a){this.va=a};g.registerLoadCallback=function(a){this.xa=a};g.unregisterErrorCallback=function(){this.wa=function(){}};g.unregisterEndedCallback=function(){this.va=function(){}};g.unregisterLoadCallback=function(){this.xa=function(){}};
g.load=function(a,b,c,d){this.X=b;this.W=c&&0<c?c:0;J(this.a,"Load - contentId: "+a+" autoplay: "+b+" time: "+this.W);this.b.autoplay=!1;a&&(this.b.src=a);this.b.autoplay=b;d&&d.tracks&&(this.r&&this.r.v(),this.r=new X(this.b,d.tracks,d.activeTrackIds||[],d.textTrackStyle||null));this.b.load()};g.reset=function(){this.r&&(this.r.v(),this.r=null);this.b.removeAttribute("src");this.W=0;this.b.load()};g.play=function(){this.b.play()};
g.seek=function(a,b){this.b.currentTime=a;"PLAYBACK_START"==b&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=b||this.b.paused||this.b.pause()};g.pause=function(){this.b.pause()};g.getState=function(){null==this.X&&(this.X=this.b.autoplay);return this.b.paused?this.b.duration&&(this.b.currentTime||0==this.b.currentTime)&&this.b.duration!=this.b.currentTime?this.b.currentTime==this.W&&this.X?"BUFFERING":"PAUSED":"IDLE":"PLAYING"};
g.getCurrentTimeSec=function(){J(this.a,"getCurrentTimeSec: "+this.b.currentTime);return this.b.currentTime};g.getDurationSec=function(){return this.b.duration};g.getVolume=function(){return{level:this.b.volume,muted:this.b.muted}};g.setVolume=function(a){void 0!=a.level&&(this.b.volume=a.level);void 0!=a.muted&&(this.b.muted=a.muted)};g.editTracksInfo=function(a){if(this.r){if(a.textTrackStyle){var b=this.r,c=a.textTrackStyle;b.Ca&&(gc(b),hc(b,c))}a.activeTrackIds&&ic(this.r,a.activeTrackIds)}};p("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");p("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});p("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"});p("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
p("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});p("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});p("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var jc=function(){this.contentId="";this.streamType="NONE";this.contentType="";this.customData=this.tracks=this.duration=this.metadata=void 0};
p("cast.receiver.media.MediaInformation",jc);var kc=function(){this.muted=this.level=void 0};p("cast.receiver.media.Volume",kc);p("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0;this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume={level:0,muted:!1};this.activeTrackIds=null;this.customData=void 0});p("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8});
p("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});p("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});p("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});p("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});
p("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});p("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});
p("cast.receiver.media.Track",function(a,b){this.trackId=a;this.trackContentType=this.trackContentId=void 0;this.type=b;this.customData=this.subtype=this.language=this.name=void 0});p("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});p("cast.receiver.media.TracksInfo",function(){});var lc=/#(.)(.)(.)(.)/,nc=function(a){if(!mc.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(lc,"#$1$1$2$2$3$3$4$4"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},mc=/^#(?:[0-9a-f]{4}){1,2}$/i,oc=function(a){var b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"};!y&&!x||x&&x&&9<=Ja||y&&z("1.9.1");x&&z("9");var X=function(a,b,c,d){F.call(this);this.b=a;this.Ea=this.ga=null;this.w=[];this.Ia=!1;this.Da="cast-captions-"+Math.floor(1E6*Math.random()).toString();this.Jb="["+this.Da+'="true"]::cue ';this.Kb=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);this.Ca=!1;for(a=0;a<b.length;a++){var e=b[a].trackContentId;if("TEXT"===b[a].type&&e){var f=b[a].trackContentType;if(0==ja("vtt",e.substr(e.length-3,3))||void 0!=f&&0==ja(f,"text/vtt"))e=document.createElement("track"),e.src=b[a].trackContentId,e.id=b[a].trackId,
e.label=b[a].name,e.srclang=b[a].language,e.kind=(b[a].subtype||"").toLowerCase(),this.w.push(e),this.b.appendChild(e)}}0<this.w.length&&(gc(this),d&&hc(this,d),this.Ca=!0,ic(this,c))};q(X,F);X.prototype.a=E("cast.receiver.TextTracksManager");X.prototype.q=function(){return"TextTracksManager"};
var ic=function(a,b){if(a.Ca)for(var c=0;c<a.w.length;c++){var d=a.w[c].track;0<=wa(b,parseInt(a.w[c].id,10))?d.mode="showing":d.mode="disabled"}},pc=function(a){a.Ea&&(a.b.removeAttribute(a.Da),document.head.removeChild(a.Ea),a.ga=null)},qc=function(a){a.Ia&&(a.b.removeAttribute("crossorigin"),a.Ia=!1)},Y=function(a,b,c){!0===c||a.Kb.test(b)?a.ga.insertRule(a.Jb+"{ "+b+" }",a.ga.cssRules.length):db(a.a,"Invalid css cue: "+b)},gc=function(a){pc(a);qc(a);var b=document,c=b.createElement("style");c.type=
"text/css";b.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText="":c.appendChild(b.createTextNode(""));a.Ea=c;a.ga=document.styleSheets[document.styleSheets.length-1];Y(a,"font-size: 4.1vh;");Y(a,"font-family: monospace;");Y(a,"font-style: normal;");Y(a,"font-weight: normal;");Y(a,"background-color: black;");Y(a,"color: white;");a.b.setAttribute(a.Da,!0);a.b.getAttribute("crossorigin")||(a.b.setAttribute("crossorigin","anonymous"),a.Ia=!0)},rc=function(a,b,c){var d;try{d=
oc(nc(b))}catch(e){db(a.a,"Invalid color: "+b)}if(d)switch(a="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case "OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case "DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case "RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case "DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+d+", 0 -1px "+d+";"}return""},
sc=function(a){switch(a){case "BOLD":return"font-weight: bold;";case "BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case "ITALIC":return"font-style: italic;"}return"font-style: normal;"},hc=function(a,b){if(k(b.foregroundColor))try{var c=oc(nc(b.foregroundColor));Y(a,"color: "+c+";",!0)}catch(d){db(a.a,"Invalid color: "+b.foregroundColor)}if(k(b.backgroundColor))try{var e=oc(nc(b.backgroundColor));Y(a,"background-color: "+e+";",!0)}catch(f){db(a.a,"Invalid color: "+b.backgroundColor)}k(b.fontScale)&&
Y(a,"font-size: "+100*b.fontScale+"%;");if(k(b.fontFamily)||k(b.fontGenericFamily)){var c=b.fontFamily,e=b.fontGenericFamily,l="font-family: ",r="";k(c)&&(l+='"'+c+'"',r=", ");if(k(e)){var v;switch(e){case "SANS_SERIF":v='"Droid Sans", sans-serif';break;case "MONOSPACED_SANS_SERIF":v='"Droid Sans Mono", monospace';break;case "SERIF":v='"Droid Serif Regular", serif';break;case "MONOSPACED_SERIF":v="Cutive Mono";break;case "CASUAL":v='"Short Stack"';break;case "CURSIVE":v="Quintessential";break;case "SMALL_CAPITALS":v=
"Alegreya Sans SC"}l+=r+v}Y(a,l+";")}k(b.fontStyle)&&Y(a,sc(b.fontStyle));k(b.edgeType)&&(v=k(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",v=k(b.edgeColor)?rc(a,b.edgeColor,b.edgeType):rc(a,v,b.edgeType),Y(a,v,!0))};X.prototype.d=function(){X.o.d.call(this);for(var a=0;a<this.w.length;a++)this.b.removeChild(this.w[a]);this.w=[];pc(this);qc(this);H(this.a,"Disposed "+this.q())};var Z=function(a,b){Q.call(this);this.fa=V.$a().Za("urn:x-cast:com.google.cast.media","JSON");this.da=0;this.tb=1;this.ub=b||15;this.Pa=this.Oa=this.J=this.ea=this.e=this.c=null;this.t=!1;this.Q=this.R=this.f=null;this.ca=!0;this.customizedStatusCallback=this.wb;this.onLoad=this.Cb;this.onPlay=this.Fb;this.onSeek=this.Gb;this.onPause=this.Eb;this.onStop=this.Ib;this.onSetVolume=this.Hb;this.onEditTracksInfo=this.xb;this.onMetadataLoaded=this.Db;this.onLoadMetadataError=this.Bb;this.onEnded=this.yb;
this.onError=this.zb;this.onGetStatus=this.Ab;this.ab(a);this.fa.onMessage=this.P.bind(this);Mb(n(this.Qa,this),1E3)};q(Z,Q);p("cast.receiver.MediaManager",Z);Z.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"editTracksInfo"};var $=function(a,b,c){G.call(this,a);this.data=b;this.senderId=c};q($,G);Z.Event=$;var tc=function(){this.requestId=0;this.mediaSessionId=void 0;this.customData=null};Z.RequestData=tc;
var uc=function(){this.media=new jc;this.autoplay=!1;this.currentTime=0;this.activeTrackIds=void 0};q(uc,tc);Z.LoadRequestData=uc;var vc=function(){this.volume=new kc};q(vc,tc);Z.VolumeRequestData=vc;var wc=function(){this.textTrackStyle=this.activeTrackIds=void 0};q(wc,tc);Z.EditTracksInfoData=wc;var xc=function(){this.resumeState=void 0;this.currentTime=0};q(xc,tc);Z.SeekRequestData=xc;q($,G);Z.LoadInfo=function(a,b){this.message=a;this.senderId=b};Z.prototype.a=E("cast.receiver.MediaManager");
Z.prototype.q=function(){return"MediaManager"};Z.prototype.bc=function(){return this.e};Z.prototype.getMediaInformation=Z.prototype.bc;Z.prototype.kc=function(a,b,c){b=void 0==b||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.e=a;b&&this.m(!0,null,c)};Z.prototype.setMediaInformation=Z.prototype.kc;
var yc=function(a,b,c){if(!c||0===c.length)return!0;if(!b||c.length>b.length)return I(a.a,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var l=!1,r=0;r<b.length;r++)if(c[f]===b[r].trackId){l=!0;break}if(!l)return I(a.a,"Track ID does not exist: "+c[f]),!1;"AUDIO"===b[r].type?e++:"VIDEO"===b[r].type&&d++;if(1<e||1<d)return I(a.a,"Maximum one active video and one active audio track supported"),!1}return!0};
Z.prototype.P=function(a){var b=a.data;a=a.senderId;var c=b.type,d=b.requestId;if("number"==typeof d&&d==Math.floor(d)){var e=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.da?(I(this.a,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.da),e=!0):"LOAD"!=c&&"GET_STATUS"!=c&&(void 0==b.mediaSessionId?(I(this.a,"Invalid media session ID, it is undefined"),e=!0):"IDLE"==zc(this)&&(I(this.a,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),
e=!0));if(e)this.V(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID");else{H(this.a,"MediaManager message received");delete b.type;e=null;switch(c){case "LOAD":J(this.a,"Dispatching MediaManager load event");c=!1;if(b.media){if(e=b.media.tracks){i:{for(var e=b.media.tracks,f=0;f<e.length;f++)if(!k(e[f].trackId)||!k(e[f].type)){e=!1;break i}e=!0}e=!e}e?(I(this.a,"Invalid tracks information"),c=!0):b.activeTrackIds&&!yc(this,b.media.tracks,b.activeTrackIds)&&(c=!0)}else I(this.a,"Media is mandatory"),
c=!0;if(c)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{this.f?this.ta("LOAD_CANCELLED"):this.e&&this.L("INTERRUPTED");this.f={senderId:a,message:b};b.media&&(this.e=b.media);this.Q=b.activeTrackIds||null;this.da++;this.ca&&this.c.Wa&&this.c.Wa(void 0!=b.autoplay?b.autoplay:!0,0<b.currentTime?b.currentTime:0);b=new $("load",b,a);if(this.onLoad)this.onLoad(b);this.dispatchEvent(b);e=null}break;case "GET_STATUS":J(this.a,"Dispatching MediaManager getStatus event");b=new $("getstatus",b,a);
if(this.onGetStatus)this.onGetStatus(b);this.dispatchEvent(b);e=null;break;case "PLAY":J(this.a,"Dispatching MediaManager play event");b=new $("play",b,a);if(this.onPlay)this.onPlay(b);this.dispatchEvent(b);e=null;break;case "SEEK":if(void 0==b.currentTime)I(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{J(this.a,"Dispatching MediaManager seek event");b=new $("seek",b,a);if(this.onSeek)this.onSeek(b);this.dispatchEvent(b);e=null}break;case "STOP":J(this.a,
"Dispatching MediaManager stop event");b=new $("stop",b,a);if(this.onStop)this.onStop(b);this.dispatchEvent(b);e=null;break;case "PAUSE":J(this.a,"Dispatching MediaManager pause event");b=new $("pause",b,a);if(this.onPause)this.onPause(b);this.dispatchEvent(b);e=null;break;case "SET_VOLUME":if(!b.volume||void 0==b.volume.level&&void 0==b.volume.muted)I(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)I(this.a,
"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{J(this.a,"Dispatching MediaManager setvolume event");b=new $("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.dispatchEvent(b);e=null}break;case "EDIT_TRACKS_INFO":J(this.a,"Dispatching MediaManager ediTracksInfo event");if(yc(this,this.e.tracks,b.activeTrackIds)){c=new $("editTracksInfo",b,a);b.textTrackStyle&&(this.e.textTrackStyle=b.textTrackStyle);b.activeTrackIds&&(this.Q=b.activeTrackIds);if(this.onEditTracksInfo)this.onEditTracksInfo(c);
this.dispatchEvent(c);e=null}else I(this.a,"Invalid track IDs"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;default:I(this.a,"Unexpected message type: "+c),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}e&&(I(this.a,"Sending error: "+e.type+" "+e.reason),this.V(a,d,e.type,e.reason))}}else I(this.a,"Ignoring request, requestId is not an integer: "+d)};
var zc=function(a){if(!a.e)return"IDLE";var b=a.c.getState();return"PLAYING"==b&&a.t?"BUFFERING":b},Ac=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.e&&!a.ea)return d.status=[],d;var e={mediaSessionId:a.da,playbackRate:a.tb,playerState:zc(a),currentTime:a.c.getCurrentTimeSec(),supportedMediaCommands:a.ub,volume:a.c.getVolume()};a.Q&&(e.activeTrackIds=a.Q);b&&(e.media=a.e||a.ea||void 0);a.e||(a.ea=null);"IDLE"==e.playerState?a.R&&(e.idleReason=a.R):a.R=null;void 0!=c&&(e.customData=c);a.customizedStatusCallback?
(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e];return d},Bc=function(a){var b=a.c.getCurrentTimeSec();a.J=b;a.Oa=b;a.Pa=Date.now()};
Z.prototype.Qa=function(){Mb(n(this.Qa,this),1E3);if("IDLE"!=zc(this)&&"PAUSED"!=zc(this)){var a=this.J;this.J=this.c.getCurrentTimeSec();var b=this.t;this.t=100>1E3*(this.J-a);b!=this.t?(H(this.a,"Buffering state changed, isPlayerBuffering: "+this.t+" old time: "+a+" current time: "+this.J),this.m(!1)):!this.t&&(a=1E3*(this.J-this.Oa)-(Date.now()-this.Pa),1E3<a||-1E3>a)&&(H(this.a,"Time drifted: "+a),this.m(!1))}};
Z.prototype.m=function(a,b,c){this.c?(H(this.a,"Sending broadcast status message"),a=Ac(this,a,c),null!=a&&(a.requestId=b||0,this.fa.bb(a),Bc(this))):I(this.a,"Not sending broadcast status message, state is invalid")};Z.prototype.broadcastStatus=Z.prototype.m;Z.prototype.ic=function(a){H(this.a,"Setting IDLE reason: "+a);this.R=a};Z.prototype.setIdleReason=Z.prototype.ic;
Z.prototype.V=function(a,b,c,d,e){J(this.a,"Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.fa.send(a,f)};Z.prototype.sendError=Z.prototype.V;Z.prototype.cb=function(a,b,c,d){this.c?(H(this.a,"Sending status message to "+a),c=Ac(this,c,d),null!=c&&(c.requestId=b,this.fa.send(a,c),Bc(this))):(I(this.a,"State is invalid"),this.V(a,b,"INVALID_PLAYER_STATE",null,d))};Z.prototype.sendStatus=Z.prototype.cb;Z.prototype.wb=function(a){return a};
Z.prototype.Cb=function(a){a=a.data;if(a.media&&a.media.contentId){var b=void 0===a.autoplay?!0:a.autoplay;a.media.tracks?this.c.load(a.media.contentId,b,a.currentTime,{tracks:a.media.tracks,activeTrackIds:a.activeTrackIds,textTrackStyle:a.media.textTrackStyle}):this.c.load(a.media.contentId,b,a.currentTime)}};
Z.prototype.ab=function(a){a!==this.c&&(this.c&&(this.c.unregisterErrorCallback(),this.c.unregisterEndedCallback(),this.c.unregisterLoadCallback()),this.c=(this.ca=a.getState?!1:!0)?new fc(this.a,a):a,this.c.registerErrorCallback(this.ra.bind(this)),this.c.registerEndedCallback(this.qa.bind(this)),this.c.registerLoadCallback(this.sa.bind(this)))};Z.prototype.setMediaElement=Z.prototype.ab;
Z.prototype.sa=function(){if(this.f)if(J(this.a,"Metadata loaded"),this.e&&(this.e.duration=this.c.getDurationSec()),this.t=!0,this.onMetadataLoaded)this.onMetadataLoaded(this.f);else this.f=null};Z.prototype.Db=function(a){this.ca&&a.message&&void 0!=a.message.currentTime&&this.c.seek(a.message.currentTime);this.ob()};Z.prototype.ra=function(a){if(this.f)if(I(this.a,"Load metadata error"),this.onLoadMetadataError)this.onLoadMetadataError(this.f);else this.f=null;else if(this.onError)this.onError(a)};
Z.prototype.ta=function(a,b){this.f?(this.V(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):I(this.a,"Not sending LOAD error as there is no on going LOAD request")};Z.prototype.sendLoadError=Z.prototype.ta;Z.prototype.ob=function(a){this.f?(this.m(!0,this.f.message.requestId,a),this.f=null):I(this.a,"Not sending status as there is no on going LOAD request")};Z.prototype.sendLoadComplete=Z.prototype.ob;g=Z.prototype;g.zb=function(){this.L("ERROR")};
g.Bb=function(){this.L("ERROR",!1);this.ta("LOAD_FAILED")};g.qa=function(){if(this.onEnded)this.onEnded()};g.yb=function(){this.L("FINISHED")};g.Ab=function(a){H(this.a,"onGetStatus");this.cb(a.senderId,a.data.requestId,!0)};g.Fb=function(a){H(this.a,"onPlay");this.c.play();this.m(!1,a.data.requestId)};g.Gb=function(a){a=a.data;H(this.a,"onSeek: "+JSON.stringify(a));this.c.seek(a.currentTime,a.resumeState);"PAUSED"!=this.c.getState()&&(this.t=!0);this.m(!1,a.requestId)};
g.Ib=function(a){this.L("CANCELLED",!0,a.data.requestId)};g.L=function(a,b,c,d){b=void 0==b||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.e?(this.c.reset(),this.Q=null,a&&(this.R=a),this.ea=this.e,this.e=null,b&&this.m(!1,c,d)):J(this.a,"Nothing to reset, Media is already null")};Z.prototype.resetMediaElement=Z.prototype.L;Z.prototype.Eb=function(a){this.c.pause();this.m(!1,a.data.requestId)};
Z.prototype.Hb=function(a){a=a.data;this.c.setVolume(a.volume);this.m(!1,a.requestId)};Z.prototype.xb=function(a){a=a.data;var b={activeTrackIds:a.activeTrackIds,textTrackStyle:a.textTrackStyle};this.c.editTracksInfo&&this.c.editTracksInfo(b);this.m(a.textTrackStyle?!0:!1,a.requestId)};Z.prototype.d=function(){Z.o.d.call(this);H(this.a,"Disposed "+this.q())};}).call(window);